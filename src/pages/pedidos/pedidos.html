<!--
  Generated template for the PedidosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Tu compra</ion-title>
  </ion-navbar>

</ion-header>


<ion-content >
  <publicidad></publicidad>
  <ion-grid style="height: 100%;">
    <div style="display: block;text-align: center;margin-top: 3em;font-weight: bold;font-size: 1.5em;white-space: nowrap;" *ngIf="mensaje != '' ">{{mensaje}}</div>
    <ion-row *ngFor="let item of ListaCarrito;let i = index">
      <ion-col col-3>
        <ion-avatar item-start>
          <img *ngIf="item.producto.imagen != null" [src]="item.producto.imagen">
          <img *ngIf="item.producto.imagen == null" src="../../assets/imgs/nofoto.png" >
        </ion-avatar>
      </ion-col>
      <ion-col col-9>
          <div>
            <h5 style="white-space: normal; text-align: justify; font-weight: bold;margin:0;">{{item.producto.nombre}}</h5>
          </div>
          <div style="display:flex">
            <div class="boton-cantidades">
              <ion-icon  item-right class="plus-minus" name="remove-circle" color="danger"(click)="cantidad('dec',item.producto,i)"></ion-icon>
              <ion-input style="text-align: center;width:80px" type="number" (blur)="quantityInput(item.producto,i)"  name="cantidad" [(ngModel)]="item.producto.pedido_detalle.cantidad"></ion-input>        
              <ion-icon  item-right class="plus-minus" name="add-circle" color="secondary" (click)="cantidad('inc',item.producto,i)"></ion-icon>  
            </div>
            <div style="width: 100%;">
              <p style="font-weight: bold; text-align: right; width: 100%;color:black"> {{item.producto.pedido_detalle.valorUnitario | currency}}</p>
            </div>
          </div>
      </ion-col>
    </ion-row>

  </ion-grid>
  
  <!-- <ion-list>
    <ion-item *ngFor="let item of ListaCarrito">
      <ion-avatar item-start>
        <img *ngIf="item.producto.imagen != null" [src]="item.producto.imagen">
        <img *ngIf="item.producto.imagen == null" src="../../assets/imgs/nofoto.png" >
      </ion-avatar>
      <h2 style="white-space: normal; text-align: justify; font-weight: bold;">{{item.producto.nombre}}</h2>
      <div style="display: block;">
        <div style="display: flex">  
          Cantidad: <p style="font-weight: bold; text-align: right; width: 100%;color:black"> {{item.producto.pedido_detalle.cantidad }}</p>
        </div> 
        <div style="display:flex">
          Valor {{item.producto.presentacion}}: <p style="font-weight: bold; text-align: right; width: 100%;color:black"> {{item.producto.pedido_detalle.valorUnitario | currency}}</p>
        </div>
      </div>
      
    </ion-item>
    <ion-item>
      <div style="display:flex">
        <strong>Domicilio:</strong><p style="text-align: right; width: 100%;"> $7.000</p>
      </div>
      <div style="display:flex">
        <strong>Total Pedido:</strong><p style="text-align: right; width: 100%;"> {{totalPedido | currency}}</p>
      </div>
    </ion-item>
    <ion-item>
      <div style="display: flex">
        <button style="margin:auto auto;background-color:rgb(158, 79, 155)" ion-button (click)="HacerPedido()">Hacer pedido</button>
      </div>      
    </ion-item>
  </ion-list> -->
</ion-content>
<ion-footer>
  <div style="display: block; margin: 0px 0px; position: sticky; background: white; left: 0; bottom: 0; border: 1px solid rgb(153, 51, 153); width: 100%;">
    <ion-grid>
      <ion-row>
        <ion-col col-6>
          <h6 style="margin:0;">Domicilio: $7.000</h6>
          <h4 style="margin:0;">Total: {{totalPedido | currency}}</h4>
        </ion-col>
        <ion-col col-6 style="margin: 0px auto; display: flex;">
          <button ion-button outline class="boton-continuar" (click)="HacerPedido()">Comprar</button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-footer>